ibcmd help infobase
1C:Enterprise 8.3 Stand-alone Server and Infobase Management Utilities © 1C-Soft LLC 1996-2023
Инструменты управления автономным сервером и информационной базой 1С:Предприятия 8

Использование:

        ibcmd infobase [command] [options] [arguments]

Общие параметры:

    --version | -v
        получение версии утилиты

    --help | -? | -h
        отображение краткой информации об утилите

    --pid=<pid> | -p <pid>
        Идентификатор процесса автономного сервера

    --remote=<url> | -r <url>
        Сетевой адрес автономного сервера (шлюза администрирования)

Режим:

    infobase
        Режим управления информационной базой

Параметры:

    --config=<path> | -c <path>
        Путь к конфигурационному файлу

    --system=<path>
        Путь к системному конфигурационному файлу

    --dbms=<kind>
        Определяет тип СУБД, в которой размещается информационная база.
        Допустимые значения:
                MSSQLServer - Microsoft SQL Server;
                PostgreSQL - PostgreSQL;
                IBMDB2 - IBM DB2;
                OracleDatabase - Oracle Database.
        Если параметр не указан, используется файловая база данных

    --database-server=<server> | --db-server=<server>
        Имя сервера СУБД
        Подробности:
                MSSQLServer
                        Может задаваться именем компьютера (если на компьютере установлен один экземпляр сервера) или именем конкретного экземпляра (если установлено несколько экземпляров)
                        Например: "Server/instance"
                        Если сервер 1С:Предприятия и Microsoft SQL Server расположены на одном компьютере, и для Microsoft SQL Server установлен Native Client (собственный клиент), то имеется возможность использовать для связи серверов протокол SHARED MEMORY. Для этого необходимо перед именем Microsoft SQL Server указать префикс lpc:
                        Например: "lpc:Server/instance"


                        Внимание: для операционных систем семейства Linux и MacOS данный тип СУБД не поддерживается


                PostrgeSQL
                        При указании сетевого порта, отличного от порта по умолчанию, необходимо это делать с использованием ключевого слова port: <имя_экземпляра> port=<номер_порта>;
                        Например: "localhost port=6432;"


                IBMDB2
                        Если на компьютере имеются экземпляры сервера баз данных, отличные от установленного по умолчанию, то необходимо указать также имя установленного экземпляра IBM DB2, заданное при его установке
                        Например: "computer/db2name"


                OracleDatabase
                        В качестве имени сервера баз данных используется TNS-name
                        Например: "//имя_сервера_БД/имя_сервиса"

    --database-name=<name> | --db-name=<name>
        Имя базы данных

    --database-user=<name> | --db-user=<name>
        Имя пользователя сервера СУБД

    --database-password=<password> | --db-pwd=<password>
        Пароль пользователя сервера СУБД

    --request-database-password | --request-db-pwd | -W
        Запрос пароля пользователя сервера СУБД через стандартный поток ввода (STDIN)

    --database-path=<path> | --db-path=<path>
        Путь к каталогу файловой базы данных 1С:Предприятия 8.
        В случае использования относительного пути, полный путь будет получен относительно каталога данных сервера.
        По умолчанию используется подкаталог 'db-data' в каталоге данных сервера

    --data=<path> | -d <path>
        Путь к каталогу данных сервера.
        По умолчанию используется значение: C:/Users/1cas/AppData/Local/1C/1cv8/standalone-server/

    --lock=<path>
        Путь к файлу блокировки каталога данных автономного сервера.
        По умолчанию используется файл lock.pid в каталоге данных сервера

    --temp=<path> | -t <path>
        Путь к каталогу временных файлов информационной базы.
        В случае использования относительного пути, полный путь будет получен относительно каталога данных сервера.
        По умолчанию используется подкаталог 'temp' в каталоге данных сервера

    --users-data=<path>
        Путь к каталогу конфигурационных данных пользователей.
        По умолчанию используется значение: users-data

    --session-data=<path>
        Путь к каталогу сеансовых данных.
        В случае использования относительного пути, полный путь будет получен относительно каталога данных сервера.
        По умолчанию используется подкаталог 'session-data' в каталоге данных сервера

    --stt-data=<path>
        Путь к каталогу хранилища моделей распознавания речи.
        В случае использования относительного пути, полный путь будет получен относительно каталога данных сервера.
        По умолчанию используется подкаталог 'stt-data' в каталоге данных сервера

    --log-data=<path>
        Путь к каталогу данных журнала регистрации.
        В случае использования относительного пути, полный путь будет получен относительно каталога данных сервера.
        По умолчанию используется подкаталог 'log-data' в каталоге данных сервера

    --ftext-data=<path>
        Путь к каталогу данных полнотекстового поиска.
        В случае использования относительного пути, полный путь будет получен относительно каталога данных сервера.
        По умолчанию используется подкаталог 'ftext-data' в каталоге данных сервера

    --ftext2-data=<path>
        Путь к каталогу данных полнотекстового поиска версии 2.
        В случае использования относительного пути, полный путь будет получен относительно каталога данных сервера.
        По умолчанию используется подкаталог 'ftext2-data' в каталоге данных сервера

    --openid-data=<path>
        Путь к каталогу данных OpenID-аутентификации.
        В случае использования относительного пути, полный путь будет получен относительно каталога данных сервера.
        По умолчанию используется подкаталог 'openid-data' в каталоге данных сервера

    --bin-data-strg=<path>
        Путь к каталогу хранилища двоичных данных.
        В случае использования относительного пути, полный путь будет получен относительно каталога данных сервера.
        По умолчанию используется подкаталог 'bin-data-strg' в каталоге данных сервера

    --clnt-notif-data=<path>
        Путь к каталогу данных уведомлений клиента.
        В случае использования относительного пути, полный путь будет получен относительно каталога данных сервера.
        По умолчанию используется подкаталог 'clnt-notif-data' в каталоге данных сервера

Команды:

    create
        Создание информационной базы

        --locale=<name> | -l <name>
            Имя локейла информационной базы.
            По умолчанию используется текущее значение локейла приложения

        --date-offset=<years>
            Смещение дат (используется для Microsoft SQL Server).
            По умолчанию используется значение: 2000

        --create-database
            Создать базу данных в случае отсутствия

        --restore=<file>
            Путь к файлу выгрузки данных информационной базы для загрузки

        --load=<file>
            Путь к файлу конфигурации информационной базы для загрузки

        --import=<directory>
            Путь к каталогу XML представления конфигурации информационной базы для загрузки

        --apply
            Флаг выполнения обновления конфигурации базы данных после загрузки конфигурации

        --force | -F
            Подтверждение выполнения операции в случае наличия предупреждений

    dump
        Выгрузка данных информационной базы

        --user=<name> | -u <name>
            Имя пользователя информационной базы

        --password=<password> | -P <password>
            Пароль пользователя информационной базы

        <path>
            Путь к файлу выгрузки информационной базы

    restore
        Загрузка данных информационной базы

        --user=<name> | -u <name>
            Имя пользователя информационной базы

        --password=<password> | -P <password>
            Пароль пользователя информационной базы

        --create-database
            Создать базу данных в случае отсутствия

        --force | -F
            Принудительное завершение сеансов информационной базы перед загрузкой

        --session-terminate-message=<message>
            Сообщение для пользователя, которое содержит причину завершения сеанса.
            Используется при принудительном завершении сеансов информационной базы перед загрузкой

        <path>
            Путь к файлу выгрузки информационной базы

    clear
        Очистка информационной базы

        --user=<name> | -u <name>
            Имя пользователя информационной базы

        --password=<password> | -P <password>
            Пароль пользователя информационной базы

    replicate
        Репликация информационной базы

        --target-dbms=<kind>
            Определяет тип целевой СУБД, с которой производится операция.
            Допустимые значения:
                MSSQLServer - Microsoft SQL Server;
                PostgreSQL - PostgreSQL;
                IBMDB2 - IBM DB2;
                OracleDatabase - Oracle Database.
            Если параметр не указан, используется файловая база данных

        --target-database-server=<server> | --target-db-server=<server>
            Имя целевого сервера СУБД
            Подробности:
                MSSQLServer
                        Может задаваться именем компьютера (если на компьютере установлен один экземпляр сервера) или именем конкретного экземпляра (если установлено несколько экземпляров)
                        Например: "Server/instance"
                        Если сервер 1С:Предприятия и Microsoft SQL Server расположены на одном компьютере, и для Microsoft SQL Server установлен Native Client (собственный клиент), то имеется возможность использовать для связи серверов протокол SHARED MEMORY. Для этого необходимо перед именем Microsoft SQL Server указать префикс lpc:
                        Например: "lpc:Server/instance"


                        Внимание: для операционных систем семейства Linux и MacOS данный тип СУБД не поддерживается


                PostrgeSQL
                        При указании сетевого порта, отличного от порта по умолчанию, необходимо это делать с использованием ключевого слова port: <имя_экземпляра> port=<номер_порта>;
                        Например: "localhost port=6432;"


                IBMDB2
                        Если на компьютере имеются экземпляры сервера баз данных, отличные от установленного по умолчанию, то необходимо указать также имя установленного экземпляра IBM DB2, заданное при его установке
                        Например: "computer/db2name"


                OracleDatabase
                        В качестве имени сервера баз данных используется TNS-name
                        Например: "//имя_сервера_БД/имя_сервиса"

        --target-database-name=<name> | --target-db-name=<name>
            Имя целевой базы данных

        --target-database-user=<name> | --target-db-user=<name>
            Имя пользователя целевого сервера СУБД

        --target-database-password=<password> | --target-db-pwd=<password>
            Пароль пользователя целевого сервера СУБД

        --target-request-database-password | --target-request-db-pwd
            Запрос пароля пользователя целевого сервера СУБД через стандартный поток ввода (STDIN)

        --target-database-path=<path> | --target-db-path=<path>
            Путь к каталогу целевой файловой базы данных 1С:Предприятия 8

        --target-create-database
            Создать целевую базу данных в случае отсутствия

        --target-date-offset=<years>
            Смещение дат в целевой базе данных (используется для Microsoft SQL Server).
            По умолчанию используется значение: 2000

        --force
            Принудительное завершение сеансов исходной информационной базы перед репликацией

        --jobs-count=<n> | -j <n>
            Количество работающих потоков и соединений с СУБД, параллельно используемых при выгрузке. По умолчанию используется количество логических ядер

        --target-jobs-count=<n> | -J <n>
            Количество потоков и соединений с СУБД используемых при загрузке. По умолчанию используется количество логических ядер

        --batch-size=<n> | -B <n>
            Количество строк в порции данных, используемой при репликации таблицы. По умолчанию количество строк в пакете: 10000

        --batch-data-size=<n>
            Объем данных в пакета в байтах, используемой при репликации таблицы. По умолчанию объем данных пакета: 10485760

    config
        Управление конфигурацией информационной базы

        Дополнительные команды:
            load
                Загрузка конфигурации

                --extension=<extension> | -e <extension>
                    Имя расширения конфигурации

                --force | -F
                    Подтверждение выполнения операции в случае наличия предупреждений

                <path>
                    Путь к файлу конфигурации

            save
                Выгрузка конфигурации

                --extension=<extension> | -e <extension>
                    Имя расширения конфигурации

                --db
                    Выполнение операции над конфигурацией базы данных

                <path>
                    Путь к файлу конфигурации

            check
                Проверка конфигурации

                --extension=<extension> | -e <extension>
                    Имя расширения конфигурации

                --force | -F
                    Подтверждение выполнения операции в случае наличия предупреждений

            apply
                Обновление конфигурации базы данных

                --extension=<extension> | -e <extension>
                    Имя расширения конфигурации

                --force | -F
                    Подтверждение выполнения операции в случае наличия предупреждений

                --dynamic=<auto|disable|prompt|force>
                    Использование динамического обновления.
                        auto - автоматически (по умолчанию)
                        disable - использование запрещено
                        prompt - запрос пользователя
                        force - использовать только динамическое обновление.

                --session-terminate=<disable|prompt|force>
                    Завершение активных сеансов в случае необходимости установки эксклюзивной блокировки информационной базы.   disable - запрещено (по умолчанию)
                        prompt - запрос пользователя
                        force - принудительное завершение сеансов.

                --session-terminate-message=<message>
                    Сообщение для пользователя, которое содержит причину завершения сеанса.
                    Используется при завершении активных сеансов в случае необходимости установки эксклюзивной блокировки информационной базы.

            reset
                Возврат к конфигурации базы данных

                --extension=<extension> | -e <extension>
                    Имя расширения конфигурации

            repair
                Восстановление конфигурации после незавершенной операции

                --commit
                    Завершить выполнение незавершенной операции

                --rollback
                    Отменить выполнение незавершенной операции

                --fix-metadata
                    Выполнить восстановление структуры метаданных конфигурации

            export
                Экспорт конфигурации в XML

                Дополнительные команды:
                    info
                        Вывести информацию о состоянии конфигурации (ConfigDumpInfo)

                        --out=<file> | -o <file>
                            Путь к файлу для записи информации о конфигурации

                        --extension=<extension> | -e <extension>
                            Имя расширения конфигурации

                    status
                        Вывести информацию о изменениях конфигурации относительно переданного состояния (ConfigDumpInfo)

                        --out=<file> | -o <file>
                            Путь к файлу для записи информации о изменениях в конфигурации

                        --base=<file> | -b <file>
                            (обязательный) Путь к файлу информации о конфигурации (ConfigDumpInfo) относительно которого вычисляются изменения текущей конфигурации

                        --extension=<extension> | -e <extension>
                            Имя расширения конфигурации

                        --short | -s
                            Отображать информацию о изменениях в сокращенном виде.

                    objects
                        Экспорт выбранных объектов конфигурации в XML

                        --out=<path> | -o <path>
                            (обязательный) Путь к каталогу или архиву для экспорта выбранных объектов

                        --extension=<extension> | -e <extension>
                            Имя расширения конфигурации

                        --recursive | -r
                            Выполнять экспорт дочерних объектов.

                        --threads=<n> | -T <n>
                            Количество потоков используемых при экспорте. По умолчанию используется количество логических ядер

                        --archive | -A
                            Упаковать экспортируемые файлы в архив

                        --ignore-unresolved-refs
                            Не выгружать в неразрешимые ссылки.

                        <Object1 ... ObjectN>
                            Список объектов конфигурации для экспорта

                    all-extensions
                        Экспорт всех расширений конфигурации в XML

                        --threads=<n> | -T <n>
                            Количество потоков используемых при экспорте. По умолчанию используется количество логических ядер

                        --archive | -A
                            Упаковать экспортируемые файлы в архив

                        --ignore-unresolved-refs
                            Не выгружать в неразрешимые ссылки.

                        <path>
                            путь к каталогу, в который будут выгружены расширения конфигурации

                --base=<file> | -b <file>
                    Путь к файлу информации о конфигурации (ConfigDumpInfo) относительно которого вычисляются изменения текущей конфигурации

                --file=<file> | -f <file>
                    Путь к файлу конфигурации, расширения конфигурации, внешней обработки или отчета

                --extension=<extension> | -e <extension>
                    Имя расширения конфигурации

                --sync
                    Синхронизировать имеющейся экспорт с конфигурацией

                --force
                    Выполнить полную выгрузку, если при попытке обновления выгрузки выяснилось, что текущая версия формата выгрузки не совпадает с версией формата, записанной в файл ConfigDumpInfo.xml.

                --threads=<n> | -T <n>
                    Количество потоков используемых при экспорте. По умолчанию используется количество логических ядер

                --archive | -A
                    Упаковать экспортируемые файлы в архив

                --ignore-unresolved-refs
                    Не выгружать в неразрешимые ссылки.

                <path>
                    путь к каталогу файлов конфигурации

            import
                Импорт конфигурации из XML

                Дополнительные команды:
                    files
                        Импорт выбранных файлов конфигурации из XML

                        --base-dir=<directory>
                            Базовый каталог, содержащий XML файлы конфигурации

                        --archive=<path>
                            Путь к архиву, содержащему XML файлы конфигурации

                        --no-check
                            Отключить проверку метаданных после загрузки

                        --partial
                            Разрешить частичный набор файлов объектов метаданных

                        --extension=<extension> | -e <extension>
                            Имя расширения конфигурации

                        <File1 ... FileN>
                            Список фалов конфигурации для импорта

                    all-extensions
                        Импорт всех расширений конфигурации из XML

                        --no-check
                            Отключить проверку метаданных после загрузки

                        <path>
                            путь к каталогу, из которого будут загружены расширения конфигурации

                --out=<file> | -o <file>
                    Путь к файлу для записи импортируемой конфигурации

                --extension=<extension> | -e <extension>
                    Имя расширения конфигурации

                <path>
                    путь к каталогу или архиву с файлами конфигурации

            support
                Настройка поддержки конфигурации

                Дополнительные команды:
                    disable
                        Снять конфигурацию с поддержки

                        --force | -F
                            Снятие с поддержки вне зависимости от наличия возможности редактирования конфигурации

            data-separation
                Получение информации о разделителях информационной базы

                Дополнительные команды:
                    list
                        Вывод списка разделителей информационной базы

            extension
                Управление расширениями конфигурации

                Дополнительные команды:
                    create
                        Создание расширения

                        --name=<name>
                            (обязательный) Имя расширения. Должно удовлетворять правилам формирования имени.
                            Имя должно состоять из одного слова, начинаться с буквы и не содержать специальных символов кроме "_".

                        --name-prefix=<prefix>
                            (обязательный) Префикс имен. Должен удовлетворять правилам формирования имени.
                            Имя должно состоять из одного слова, начинаться с буквы и не содержать специальных символов кроме "_".

                        --synonym=<synonym>
                            Синоним в формате функции NStr()

                        --purpose=<customization|add-on|patch>
                            Назначение расширения

                    info
                        Получить информацию о расширении

                        --name=<name>
                            (обязательный) Имя расширения. Должно удовлетворять правилам формирования имени.

                    list
                        Получить список расширений

                    update
                        Установить указанные значения свойств расширения

                        --name=<name>
                            (обязательный) Имя расширения. Должно удовлетворять правилам формирования имени.

                        --active=<yes|no>
                            Активность расширения

                        --safe-mode=<yes|no>
                            Безопасный режим

                        --security-profile-name=<yes|no>
                            Имя профиля безопасности

                        --unsafe-action-protection=<yes|no>
                            Защита от опасных действий

                        --used-in-distributed-infobase=<yes|no>
                            Используется в распределенной информационной базе

                        --scope=<infobase|data-separation>
                            Область действия расширения

                    delete
                        Удаление расширения

                        --name=<name>
                            Имя расширения. Должно удовлетворять правилам формирования имени.

                        --all
                            Удаление всех расширений

            generation-id
                Получить идентификатор поколения конфигурации

                --extension=<extension> | -e <extension>
                    Имя расширения конфигурации

            sign
                Цифровая подпись конфигурации/расширения

                --key=<path> | -k <path>
                    (обязательный) Путь к приватому ключу (в формате .pem)

                --extension=<extension> | -e <extension>
                    Имя расширения конфигурации

                --db
                    Выполнение операции над конфигурацией базы данных

                --out=<path> | -o <path>
                    (обязательный) Путь для создания подписанной копии конфигурации/расширения

                <path>
                    Путь к файлу подписываемой конфигурации/расширения

        --user=<name> | -u <name>
            Имя пользователя информационной базы

        --password=<password> | -P <password>
            Пароль пользователя информационной базы